# 싱크홀 안전도 서비스(Sinkhole Safety Service)

## 프로젝트 요약

싱크홀 안전도 서비스 프로젝트는 서울시 내의 싱크홀(지반 침하) 위험 지역을 시각적으로 확인할 수 있는 웹 기반 경보 시스템이다. 
사용자는 웹 지도(UI)를 통해 서울시 전역을 탐색할 수 있으며 지도를 확대하거나 축소하면 해당 구 또는 동 단위로 세분화된 위험도 정보가 원의 형태로 표시된다. 각 원의 크기와 색상은 위험 수준에 따라 달라지며 지도의 확대 비율에 따라 자동으로 범위가 조정된다. 또한 사용자는 검색 기능을 통해 구 또는 동을 선택하면 해당 지역 지도로 이동해 위험도를 바로 확인할 수 있다. 시스템은 인터넷에 공개된 싱크홀 발생 이력 데이터를 기준으로 위험 지역을 시각화하며 최근 발생 지역은 공지사항 형태로 표시된다. GPS 기능을 활용해 사용자의 현재 위치를 가져오고 만약 사용자가 위험 지역 반경 내에 있을 경우 경고 알람을 표시하여 실시간으로 안전을 안내한다. 본 서비스는 시민들이 생활 속에서 지반 안전 정보를 직관적으로 확인하고 싱크홀 사고 예방에 도움을 주는 것을 목표로 하고있다.

![싱크홀](https://github.com/user-attachments/assets/2bb15261-53e8-4853-96f5-141e838f372c)
![싱크홀](https://github.com/user-attachments/assets/f524d311-e47c-489c-86e3-199e68584d45)

---

## 기능 구성요소
1. 싱크홀 안전도 등급에 따른 **행정구 위험도 시각화** (기준치는 검토중)
	- Leaflet.js 기반 지도 렌더링  
   	- GeoJSON 데이터로 구/동 경계 표시  
   	- Choropleth 방식으로 등급(A~D)별 색상 구분  
   	- Hover 시 툴팁(구/동명, 등급), 클릭 시 상세 패널 오픈  
2. 행정구에 따른 지도 위치 이동 **검색 기능**
	- 검색 (서울시 ○○구 ○○동)
	- 입력창 → 자동완성 → 선택 시 fitBounds로 이동/하이라이트
3. 실시간 싱크홀 발생 **공지사항으로 시각화**
	- 최신 공지 리스트(제목/날짜/출처/링크)
	- 새 공지 등장 시 상단 토스트 알림
4. **안전등급 패널**
	- 선택된 동의 점수/등급 표시(A~D, 점수 0~100)
 	- 산출 근거: 최근 사고 밀도/면적, 공사 빈도 등 가중합(간단 산식)

---

## 안전등급 기준 (Heuristic Model)
| 등급 | 점수 범위 | 설명 |
|------|------------|------|
| **A** | 0 ~ 25 | 매우 안전 — 최근 3년간 사고 없음 |
| **B** | 26 ~ 50 | 보통 — 사고 이력 적고 공사 빈도 낮음 |
| **C** | 51 ~ 75 | 주의 — 인근 지역에 다수의 사고 이력 존재 |
| **D** | 76 ~ 100 | 위험 — 반복적인 지반 침하 또는 대규모 공사 구역 |

> ※ 실제 등급 산출은 서울시 도로함몰 데이터와 토양 안정성 지수를 기반으로 계산 예정  
> ※ 초기 단계에서는 `safety_scores.csv`를 사용한 목업 데이터 기반 테스트 진행


---

## 데이터 출처
- [서울 열린데이터광장](https://data.seoul.go.kr/)  
  → **지반침하 발생 이력**, **도로함몰 현황**, **행정동 경계 GeoJSON**  
- [공공데이터포털](https://www.data.go.kr/)  
  → **지하공사정보**, **도로 점검 이력**  
- **샘플 데이터 (`safety_scores.csv`)**  
  → Leaflet 지도 테스트용 예시 점수 (등급 A~D 구분)

---

## 프론트엔드 지도 구성
- **사용 기술:** Leaflet.js, React(Next.js), TypeScript  
- **기본 중심 좌표:** 서울시청 (37.5665, 126.9780)  
- **구현 파일 구조:**
  - `Map.tsx`: 서울 중심 지도 렌더링 및 폴리곤 표시  
  - `SearchBox.tsx`: 행정동 검색 및 지도 이동  
  - `InfoPanel.tsx`: 선택된 동의 등급·공지 정보 표시  
- **지도 타일:** OpenStreetMap Tiles API  
- **추가 계획:** 색약 모드 지원 / 히트맵 시각화 / 오프라인 캐싱  

---

## 역할 분담
| 이름 | 담당 역할 | 주요 업무 |
|------|------------|------------|
| **하준서** | 백엔드 | Node.js, Express 서버 구축 |
| **문은서** | 프론트엔드 / 백엔드 보조 | EJS, README 관리, API 통합 |
| **곽수민** | 프론트엔드 |  EJS, Bootstrap UI 구현 / 디자인 및 인터페이스 구성 |

## 🛠️ 사용 기술 목록 (예정)

Node.js, Express, EJS, Bootstrap, JavaScript, HTML, CSS, Render, Leaflet.js

## 🗓️ 프로젝트 일정

| 기간 | 주요 내용 |
|------|------------|
| 10/28 ~ 11/9 | 서버 구축 및 초기 환경 설 |
| 11/10 ~ 11/16 | 지도 구성, 검색 기능 추가, 기본 UI 구성 |
| 11/17 ~ 11/30 |구체적 UI 구성 및 기능 추가(싱크홀 발생 공지사항, 행정구동에 따른 위치 검색) |
| 12/2 ~ 12/17 | 데이터 통계 시각화 정리 및 최종 배포 |

---

## 💡 향후 개선 방향
- 색약 사용자 위한 접근성 모드 추가  
- 모바일 성능 최적화 (지도 캐싱 / 오프라인 모드)  
- 이동 경로 기반 위험도 안내 기능 추가  
- 향후 앱(App) 버전 확장 검토  
