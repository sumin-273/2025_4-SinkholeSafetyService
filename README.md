# 싱크홀 안전도 서비스(Sinkhole Safety Service)

## 프로젝트 요약

싱크홀 안전도 서비스는 서울시 내 지반침하(싱크홀) 사고 이력 데이터를 기반으로 지역별 위험도를 지도 위에 직관적으로 시각화하는 웹 서비스이다.
사용자는 지도를 통해 서울 전역의 구·동 단위 안전 등급을 한눈에 확인할 수 있으며, 특정 지역을 검색하거나 선택하면 해당 지역의 위험도와 최근 사고 정보를 확인할 수 있다.
본 프로젝트는 시민들이 일상 속에서 지반 안전 정보를 쉽게 인지하고, 싱크홀 사고 예방에 도움을 주는 것을 목표로 한다.

<img width="1895" height="902" alt="ui1" src="https://github.com/user-attachments/assets/20089e72-0263-470a-98cf-38aaf284082d" />
<img width="1892" height="902" alt="ui2" src="https://github.com/user-attachments/assets/9bcb46d3-ed31-4a94-8540-fcf88bc7c529" />
<img src="https://github.com/user-attachments/assets/f524d311-e47c-489c-86e3-199e68584d45" width="500" />

---

## 주요 기능
- **지역별 위험도 시각화**
  - Leaflet 기반 대화형 지도
  - 구/동 단위 위험도 표시(색상 구분)
  - 지도 확대/축소에 따른 표시 범위 조절

- **행정구·행정동 검색**
  - 구/동 이름 검색
  - 선택 시 지도 자동 이동

- **싱크홀 사고 공지**
  - 국토교통부/공공데이터 기반 사고 목록 제공
  - 서울시 사고만 필터링하여 최근 공지 표시

- **안전도 조회 API**
  - 지역별 안전도 점수/등급 조회
  - 프론트 초기 로딩을 위한 Bulk 조회 지원

---

## 안전등급 기준 (2025.12.16 기준) 

### 📊 등급 체계 (국토교통부 표준 준용) 

| 등급 | 등급 기준 | Danger 레벨 | 지도 색상 | 의미 | 
|:----:|:---------:|:-----------:|:---------:|------| 
| **A** | 폭 < 0.5m, 깊이 < 0.4m | 1 | 🟢 초록색 | **매우 안전** - 최근 사고 거의 없음 | 
| **B** | 폭 ≥ 0.5m 또는 깊이 ≥ 0.4m | 2 | 🟡 노란색 | **안전** - 사고 이력 적음 | 
| **C** | 폭 ≥ 1.5m 또는 깊이 ≥ 1.0m | 3 | 🟠 주황색 | **보통** - 주의 필요 | 
| **D** | 폭 ≥ 3.0m 또는 깊이 ≥ 1.5m | 4 | 🔴 빨간색 | **위험** - 즉각 조치 필요 | 

> **점수 기준**: 높을수록 안전, 낮을수록 위험 

## 데이터 활용 및 위험도 산정

본 프로젝트는 국토교통부에서 제공하는 **공식 지반 안전 관련 공공데이터 API**를 활용하여
서울시 싱크홀(지반침하) 위험도를 산정하고 지도 위에 시각화합니다.

### 사용 데이터 API

#### 1) 국토교통부_지반침하_위험도_평가
- 지역 단위 지반침하 위험도 평가 정보 제공
- 향후 공식 위험도 산정 기준 적용을 위한 참고 데이터로 활용
- 출처: 재난안전데이터공유플랫폼  
  https://www.safetydata.go.kr/disaster-data/view?dataSn=713

#### 2) 국토교통부_지반침하사고_목록
- 지반침하(싱크홀) 사고 발생 이력 제공 (사고 위치/일자 등)
- 서울시 사고만 필터링하여 공지/리스트에 활용
- 출처: 재난안전데이터공유플랫폼  
  https://www.safetydata.go.kr/disaster-data/view?dataSn=715

#### 3) 국토교통부_지하안전정보 (핵심 활용 데이터)
- 지반침하 사고 이력에서 **싱크홀 폭(width)·깊이(depth)** 정보를 제공
- 본 프로젝트의 **위험도 등급 산정 핵심 기준 데이터**
- 출처: 공공데이터포털  
  https://www.data.go.kr/data/15041891/openapi.do  
  (참고 문서: *지하안전정보 조회 서비스 OPEN API 활용가이드 v1.4*)

### 위험도 등급 산정 방식 (요약)

- 국토교통부 **지하안전정보 API**의 지반침하 사고 이력에서
  **싱크홀 폭(width)과 깊이(depth)** 값을 수집하여 사고 규모를 정량화합니다.
- 사고 규모(폭·깊이)가 클수록 위험도가 높다고 판단하여,
  지역(구/동) 단위로 집계한 뒤 **위험도 등급(A~E)** 으로 분류합니다.
- 이를 통해 단순 사고 “건수”가 아닌, **실제 사고 규모(폭/깊이)를 반영한 위험도 분류**를 구현했습니다.

> 참고: 현재는 사고 이력 기반 산정(프록시) 방식을 사용하며,  
> 향후 **지반침하 위험도 평가 API**가 안정적으로 활용 가능한 상태가 되면 공식 기준으로 전환할 수 있도록 설계되어 있습니다.

### 데이터 출처

- 국토교통부 재난안전데이터공유플랫폼
  - 지반침하 위험도 평가: https://www.safetydata.go.kr/disaster-data/view?dataSn=713
  - 지반침하 사고 목록: https://www.safetydata.go.kr/disaster-data/view?dataSn=715
- 공공데이터포털
  - 국토교통부 지하안전정보 OPEN API: https://www.data.go.kr/data/15041891/openapi.do

---

## 레포 구조 (요약)
```
.
├── backend/ # Express 서버 및 API
│ ├── routes/ # safety, notices, geocode 등 API 라우트
│ └── data/ # 샘플 데이터
├── frontend/ # React + TypeScript 앱
│ ├── src/
│ └── public/
├── data/ # 프로젝트 보조 데이터 (행정동 중심 등)
└── scripts/ # 데이터 수집/전처리 스크립트
```

---

## 프론트엔드 지도 구성

- **기술 스택:** React(Next.js), TypeScript, Leaflet.js
- **기능**
  - 구/동 단위 위험도 시각화
  - 지도 확대/축소에 따른 표시 범위 조절
  - 선택 지역 정보 패널 표시
- **주요 컴포넌트**
  - `Map.tsx` — 지도 및 위험도 표시
  - `InfoPanel.tsx` — 선택 지역 등급/공지 표시

---

## 역할 분담
| 이름 | 담당 역할 | 주요 업무 |
|------|------------|------------|
| **하준서** | 백엔드 | Node.js, Express 서버 구축, 데이터 처리, 외부 API 연동 |
| **문은서** | 프론트엔드 / 백엔드 보조 | README/문서화, 안전등급 유틸, 지도 UI 보조 |
| **곽수민** | 프론트엔드 |  React UI/UX 개발, Leaflet 지도 구현, 인터페이스 디자인 개선|

---

## 사용 기술 스택

### Frontend
- React (Next.js)
- TypeScript
- Leaflet.js
- OpenStreetMap Tiles
- HTML / CSS

### Backend
- Node.js
- Express
- REST API
- 공공데이터 Open API 연동

### Data / External API
- 국토교통부 재난안전데이터공유플랫폼
- 국토교통부 지하안전정보 OPEN API
- 공공데이터포털

### Dev / Tooling
- Git & GitHub
- npm

---

## 로컬 실행 방법

### 요구사항
- Node.js 18+
- npm

### 실행

```bash
# 프로젝트 루트
npm install
npm run dev
```
루트의 dev 스크립트는 백엔드와 프론트엔드를 동시에 실행합니다.
